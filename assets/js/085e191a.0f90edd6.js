"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[3265],{7453(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Toolchain/Recipes/Running-a-model-game","title":"\ud83d\ude80 Running the Model / Game","description":"\ud83d\udccb Prerequisites","source":"@site/docs/Toolchain/04-Recipes/01-Running-a-model-game.md","sourceDirName":"Toolchain/04-Recipes","slug":"/Toolchain/Recipes/Running-a-model-game","permalink":"/Toolchain/Recipes/Running-a-model-game","draft":false,"unlisted":false,"editUrl":"https://github.com/project-SIMPLE/documentation/tree/main/docs/Toolchain/04-Recipes/01-Running-a-model-game.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"docSidebar","previous":{"title":"Exporting Data from Unity","permalink":"/Toolchain/SimpleTools/Export-Data-from-Unity"},"next":{"title":"Debugging","permalink":"/Toolchain/Recipes/Debugging"}}');var s=t(4848),r=t(8453);const l={},o="\ud83d\ude80 Running the Model / Game",d={},c=[{value:"\ud83d\udccb Prerequisites",id:"-prerequisites",level:2},{value:"\u2699\ufe0f Middleware Setup (Required)",id:"\ufe0f-middleware-setup-required",level:2},{value:"\ud83c\udfae Option A: Running from Unity (Play Mode)",id:"-option-a-running-from-unity-play-mode",level:2},{value:"Step 1: Start the Environment",id:"step-1-start-the-environment",level:3},{value:"Step 2: Play in Unity",id:"step-2-play-in-unity",level:3},{value:"\ud83d\udee0\ufe0f Using the XR Device Simulator",id:"\ufe0f-using-the-xr-device-simulator",level:3},{value:"1. Setup",id:"1-setup",level:4},{value:"2. Configuration",id:"2-configuration",level:4},{value:"3. Controls",id:"3-controls",level:4},{value:"\ud83e\udd7d Option B: Running from a Headset (Standalone)",id:"-option-b-running-from-a-headset-standalone",level:2},{value:"Step 1: Network Configuration",id:"step-1-network-configuration",level:3},{value:"Step 2: Build and Export",id:"step-2-build-and-export",level:3},{value:"Step 3: Deploy to Headset",id:"step-3-deploy-to-headset",level:3},{value:"Step 4: Launching on Headset",id:"step-4-launching-on-headset",level:3}];function a(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-running-the-model--game",children:"\ud83d\ude80 Running the Model / Game"})}),"\n",(0,s.jsx)(n.h2,{id:"-prerequisites",children:"\ud83d\udccb Prerequisites"}),"\n",(0,s.jsx)(n.p,{children:"Before starting, ensure you have:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"GAMA model"})," adapted for VR."]}),"\n",(0,s.jsxs)(n.li,{children:["A ",(0,s.jsx)(n.strong,{children:"Unity project"})," with a scene containing the necessary prefabs to connect to GAMA."]}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["[!TIP]\nSee the ",(0,s.jsx)(n.a,{href:"https://github.com/project-SIMPLE/simple.toolchain/wiki/02-Tutorial-%E2%80%90-From-GAMA-model-to-Virtual-Universe-%E2%80%90-case-of-a-traffic-model",children:(0,s.jsx)(n.strong,{children:"Tutorial: From GAMA to Virtual Universe"})})," for details on designing the GAMA model and Unity project."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-middleware-setup-required",children:"\u2699\ufe0f Middleware Setup (Required)"}),"\n",(0,s.jsxs)(n.p,{children:["Regardless of whether you run the game in the Editor or on a Headset, the middleware must be running ",(0,s.jsx)(n.strong,{children:"before"})," you start the Unity application."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Download:"})," Get the middleware ",(0,s.jsx)(n.a,{href:"https://github.com/project-SIMPLE/simple.webplatform/archive/refs/heads/main.zip",children:"here"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Configuration Files:"})," The SIMPLE tool generates two files when creating a VR Gaml file:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"settings.json"}),": Model execution conditions."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:".env"}),": Configuration for the modeler's workspace."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Installation:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Copy the generated ",(0,s.jsx)(n.code,{children:".env"})," file (located in your project folder) into the ",(0,s.jsx)(n.strong,{children:"root folder"})," of the middleware."]}),"\n",(0,s.jsxs)(n.li,{children:["For detailed installation instructions, refer to the ",(0,s.jsx)(n.a,{href:"https://github.com/project-SIMPLE/GamaServerMiddleware",children:"Middleware Wiki"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-option-a-running-from-unity-play-mode",children:"\ud83c\udfae Option A: Running from Unity (Play Mode)"}),"\n",(0,s.jsx)(n.p,{children:"This method is best for development and testing."}),"\n",(0,s.jsx)(n.h3,{id:"step-1-start-the-environment",children:"Step 1: Start the Environment"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Run GAMA."})}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Run the Middleware."})," (See ",(0,s.jsx)(n.a,{href:"https://github.com/project-SIMPLE/simple.webplatform?tab=readme-ov-file#getting-started-%EF%B8%8F",children:"Getting Started"}),").","\n",(0,s.jsx)("img",{width:"682",alt:"Middleware Terminal",src:"https://github.com/user-attachments/assets/c214e66f-8395-43dd-9d8c-20ae274c742f"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Open your browser and go to: ",(0,s.jsx)(n.a,{href:"http://localhost:8000/",children:"http://localhost:8000/"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Select the Game:"})," Click on your project name in the web interface (e.g., ",(0,s.jsx)(n.code,{children:"traffic_model_VR"}),")."]}),"\n"]}),"\n",(0,s.jsx)("img",{width:"1454",alt:"Middleware Interface",src:"https://github.com/user-attachments/assets/b2d72c71-565a-454d-81ac-2b1e6d3342c8"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["[!NOTE]\nEnsure your ",(0,s.jsx)(n.code,{children:".env"})," file is correctly configured (either automatically via the generated file or manually using the ",(0,s.jsx)(n.code,{children:"EXTRA_LEARNING_PACKAGE_PATH"})," variable)."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-2-play-in-unity",children:"Step 2: Play in Unity"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Open the relevant Scene in Unity (it must contain a ",(0,s.jsx)(n.strong,{children:"Connection Manager"})," and a ",(0,s.jsx)(n.strong,{children:"Game Manager"}),").","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.em,{children:"Example:"})," ",(0,s.jsx)(n.code,{children:"Scenes/Code Examples/Receive Static Data"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click the \u25b6\ufe0f ",(0,s.jsx)(n.strong,{children:"Play"})," button."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:"https://github.com/user-attachments/assets/836a87b0-eef2-4d48-be25-397c0872c5a4",alt:"Unity Play Button"})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"\ufe0f-using-the-xr-device-simulator",children:"\ud83d\udee0\ufe0f Using the XR Device Simulator"}),"\n",(0,s.jsx)(n.p,{children:"If you do not have a headset connected to the PC, you can simulate VR inputs using the keyboard and mouse."}),"\n",(0,s.jsx)(n.h4,{id:"1-setup",children:"1. Setup"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Project Explorer"}),", search for ",(0,s.jsx)(n.code,{children:"simulator"}),".","\n",(0,s.jsx)("img",{width:"1250",alt:"Search Simulator",src:"https://github.com/user-attachments/assets/d9df7889-302f-4082-995f-e43318d7c019"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Drag and drop the ",(0,s.jsx)(n.strong,{children:"XR Device Simulator"})," prefab into your hierarchy.","\n",(0,s.jsx)("img",{width:"1250",alt:"Drag Simulator",src:"https://github.com/user-attachments/assets/366e04c3-7c13-4b42-a50e-8aa87f362cba"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"2-configuration",children:"2. Configuration"}),"\n",(0,s.jsx)(n.p,{children:"To move faster in the scene, adjust the sensitivity in the Inspector:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Look for ",(0,s.jsx)(n.strong,{children:"Keyboard X / Y / Z Translate Speed"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Set values to ",(0,s.jsx)(n.strong,{children:"20"})," for faster navigation."]}),"\n"]}),"\n",(0,s.jsx)("img",{width:"1250",alt:"Simulator Settings",src:"https://github.com/user-attachments/assets/69d1b674-82e1-4df3-a653-d1bbbde3f7a5"}),"\n",(0,s.jsx)(n.h4,{id:"3-controls",children:"3. Controls"}),"\n",(0,s.jsx)(n.p,{children:"Once inside Play Mode, use the following controls:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Action"}),(0,s.jsx)(n.th,{style:{textAlign:"left"},children:"Controls"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.strong,{children:"Move Horizontal"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.code,{children:"W"}),"/",(0,s.jsx)(n.code,{children:"A"}),"/",(0,s.jsx)(n.code,{children:"S"}),"/",(0,s.jsx)(n.code,{children:"D"})," (or ",(0,s.jsx)(n.code,{children:"Z"}),"/",(0,s.jsx)(n.code,{children:"Q"}),"/",(0,s.jsx)(n.code,{children:"S"}),"/",(0,s.jsx)(n.code,{children:"D"})," depending on layout)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.strong,{children:"Move Vertical"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:[(0,s.jsx)(n.code,{children:"E"})," (Up) / ",(0,s.jsx)(n.code,{children:"Q"})," or ",(0,s.jsx)(n.code,{children:"A"})," (Down)"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.strong,{children:"Look Around"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Hold ",(0,s.jsx)(n.strong,{children:"Right Mouse Button"})," + Move Mouse"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.strong,{children:"Toggle Controller"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Press ",(0,s.jsx)(n.code,{children:"Y"})," to toggle the Right Controller"]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{style:{textAlign:"left"},children:(0,s.jsx)(n.strong,{children:"Trigger Action"})}),(0,s.jsxs)(n.td,{style:{textAlign:"left"},children:["Press ",(0,s.jsx)(n.code,{children:"G"})," (while controller is active)"]})]})]})]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["[!WARNING]\n",(0,s.jsx)(n.strong,{children:"Remove the Simulator before Building!"}),"\nThe XR Device Simulator is for editor testing only. You ",(0,s.jsx)(n.strong,{children:"must delete"})," it from the scene before building the application for a real headset."]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"-option-b-running-from-a-headset-standalone",children:"\ud83e\udd7d Option B: Running from a Headset (Standalone)"}),"\n",(0,s.jsx)(n.p,{children:"To run the simulation directly on a standalone headset (like a Meta Quest), follow these steps."}),"\n",(0,s.jsx)(n.h3,{id:"step-1-network-configuration",children:"Step 1: Network Configuration"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Ensure your ",(0,s.jsx)(n.strong,{children:"PC"})," (running GAMA) and your ",(0,s.jsx)(n.strong,{children:"Headset"})," are connected to the ",(0,s.jsx)(n.strong,{children:"same Wi-Fi network"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In Unity, select the ",(0,s.jsx)(n.strong,{children:"Manager / Connection Manager"})," object."]}),"\n",(0,s.jsxs)(n.li,{children:["In the Inspector:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Check ",(0,s.jsx)(n.strong,{children:"Fixed Properties"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["In the ",(0,s.jsx)(n.strong,{children:"Default IP"})," field, replace ",(0,s.jsx)(n.code,{children:"localhost"})," with your ",(0,s.jsx)(n.strong,{children:"PC's Local IP Address"})," (e.g., ",(0,s.jsx)(n.code,{children:"192.168.1.x"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-2-build-and-export",children:"Step 2: Build and Export"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Go to ",(0,s.jsx)(n.strong,{children:"File"})," > ",(0,s.jsx)(n.strong,{children:"Build Profiles"}),".","\n",(0,s.jsx)("img",{width:"1136",alt:"Build Profiles",src:"https://github.com/user-attachments/assets/c76b6ac6-7baa-4022-aef2-7baaf7725060"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"Android"})," and click ",(0,s.jsx)(n.strong,{children:"Switch Platform"})," (this may take a few minutes).","\n",(0,s.jsx)("img",{width:"793",alt:"Switch Platform",src:"https://github.com/user-attachments/assets/ea77b928-ce1e-483c-a100-4b6eb0296eb3"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Click ",(0,s.jsx)(n.strong,{children:"Open Scene List"})," and ensure your main scene is checked. If missing, open the scene and click ",(0,s.jsx)(n.strong,{children:"Add Open Scenes"}),".","\n",(0,s.jsx)("img",{width:"837",alt:"Scene List",src:"https://github.com/user-attachments/assets/ab095509-999f-40aa-b0bd-65777323417d"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-3-deploy-to-headset",children:"Step 3: Deploy to Headset"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Connect your headset to the PC via USB-C."}),"\n",(0,s.jsxs)(n.li,{children:["Accept any USB debugging authorizations inside the headset.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsxs)(n.em,{children:["Note: Your headset must be in ",(0,s.jsx)(n.a,{href:"https://knowledge.vr-expert.com/kb/how-to-activate-developer-mode-on-the-meta-quest-3/",children:"Developer Mode"}),"."]})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["In Unity, click ",(0,s.jsx)(n.strong,{children:"Build and Run"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Select a folder to save the ",(0,s.jsx)(n.code,{children:".apk"})," file."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"step-4-launching-on-headset",children:"Step 4: Launching on Headset"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["If the app doesn't launch automatically:","\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Put on the headset."}),"\n",(0,s.jsx)(n.li,{children:"Go to your App Library."}),"\n",(0,s.jsx)(n.li,{children:'Select the filter dropdown (usually says "All").'}),"\n",(0,s.jsxs)(n.li,{children:["Select ",(0,s.jsx)(n.strong,{children:"Unknown Sources"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Click on your application name."}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},8453(e,n,t){t.d(n,{R:()=>l,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function l(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);